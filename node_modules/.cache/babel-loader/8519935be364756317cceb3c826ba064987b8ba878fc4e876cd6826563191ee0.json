{"ast":null,"code":"var _jsxFileName = \"/home/wayne/Development/phase5/group12-frontend-/src/Components/MyCourses/MyCourses.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./MyCourses.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MyCourses = () => {\n  _s();\n  const [courses, setCourses] = useState([]);\n  const [instructors, setInstructors] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [newCourse, setNewCourse] = useState({\n    name: \"\",\n    duration: \"\"\n  });\n  const [editingCourse, setEditingCourse] = useState(null);\n  const [selectedFile, setSelectedFile] = useState(null);\n  const navigate = useNavigate();\n  const user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n  const BASE_URL = \"https://group12-backend-cv2o.onrender.com\";\n  const fetchCourses = () => {\n    const token = typeof window !== \"undefined\" && window.localStorage ? localStorage.getItem(\"token\") : null;\n    if (!token) {\n      console.error(\"No token found. Please log in again.\");\n      setError(\"No token found. Please log in again.\");\n      setLoading(false);\n      return;\n    }\n    const endpoint = user.role === \"admin\" ? `${BASE_URL}/api/admin/courses` : user.role === \"instructor\" ? `${BASE_URL}/api/instructors/my-courses` : `${BASE_URL}/api/students/my-courses`;\n    fetch(endpoint, {\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    }).then(res => {\n      if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);\n      return res.json();\n    }).then(data => {\n      setCourses(Array.isArray(data) ? data : []);\n      setLoading(false);\n    }).catch(err => {\n      console.error(\"Fetch error:\", err.message);\n      setError(err.message);\n      setLoading(false);\n    });\n  };\n  useEffect(() => {\n    if (!user || user.role !== \"admin\" && user.role !== \"instructor\" && user.role !== \"student\") {\n      console.log(\"Redirecting to /: User is not admin, instructor, or student\", user);\n      setLoading(false);\n      navigate(\"/\");\n      return;\n    }\n    fetchCourses();\n    if (user.role === \"admin\") {\n      fetch(`${BASE_URL}/api/admin/instructors`, {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }).then(res => {\n        if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);\n        return res.json();\n      }).then(data => {\n        console.log(\"Fetched instructors:\", data);\n        setInstructors(Array.isArray(data) ? data : []);\n        if (typeof window !== \"undefined\" && window.localStorage) {\n          localStorage.setItem(\"instructors\", JSON.stringify(data));\n        }\n      }).catch(err => {\n        console.error(\"Fetch instructors error:\", err.message);\n        setError(err.message);\n      });\n    }\n  }, [navigate, user]);\n  const handleCreateCourse = () => {\n    const token = typeof window !== \"undefined\" && window.localStorage ? localStorage.getItem(\"token\") : null;\n    if (!token) return;\n    const endpoint = user.role === \"admin\" ? `${BASE_URL}/api/admin/courses` : `${BASE_URL}/api/instructors/courses`;\n    fetch(endpoint, {\n      method: \"POST\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(newCourse)\n    }).then(res => {\n      if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);\n      return res.json();\n    }).then(data => {\n      setCourses([...courses, {\n        id: data.id || courses.length + 1,\n        ...newCourse\n      }]);\n      setNewCourse({\n        name: \"\",\n        duration: \"\"\n      });\n    }).catch(err => console.error(\"Error creating course:\", err.message));\n  };\n  const handleUpdateCourse = course => {\n    const token = typeof window !== \"undefined\" && window.localStorage ? localStorage.getItem(\"token\") : null;\n    if (!token) return;\n    const endpoint = user.role === \"admin\" ? `${BASE_URL}/api/admin/courses/${course.id}` : `${BASE_URL}/api/instructors/courses/${course.id}`;\n    fetch(endpoint, {\n      method: \"PUT\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(course)\n    }).then(res => {\n      if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);\n      return res.json();\n    }).then(updatedCourse => {\n      setCourses(courses.map(c => c.id === course.id ? updatedCourse : c));\n      setEditingCourse(null);\n    }).catch(err => console.error(\"Error updating course:\", err.message));\n  };\n  const handleDeleteCourse = courseId => {\n    const token = typeof window !== \"undefined\" && window.localStorage ? localStorage.getItem(\"token\") : null;\n    if (!token) return;\n    const endpoint = user.role === \"admin\" ? `${BASE_URL}/api/admin/courses/${courseId}` : `${BASE_URL}/api/instructors/courses/${courseId}`;\n    fetch(endpoint, {\n      method: \"DELETE\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    }).then(res => {\n      if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);\n      return res.json();\n    }).then(() => {\n      setCourses(courses.filter(c => c.id !== courseId));\n    }).catch(err => console.error(\"Error deleting course:\", err.message));\n  };\n  const handleFileUpload = courseId => {\n    if (!selectedFile) {\n      alert(\"Please select a file to upload.\");\n      return;\n    }\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      console.error(\"No token found. Please log in again.\");\n      return;\n    }\n    const formData = new FormData();\n    formData.append(\"file\", selectedFile);\n    formData.append(\"courseId\", courseId);\n    fetch(`${BASE_URL}/api/instructors/upload-course-material`, {\n      method: \"POST\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      },\n      body: formData\n    }).then(res => {\n      if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);\n      return res.json();\n    }).then(data => {\n      alert(\"File uploaded successfully!\");\n      setSelectedFile(null);\n    }).catch(err => console.error(\"Error uploading file:\", err.message));\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading courses...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 193,\n    columnNumber: 23\n  }, this);\n  if (error) {\n    console.error(\"Error state:\", error);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 12\n    }, this);\n  }\n  const isEditable = user.role === \"admin\" || user.role === \"instructor\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"my-courses-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: user.role === \"admin\" ? \"All Courses\" : user.role === \"instructor\" ? \"My Courses (Teaching)\" : \"My Enrolled Courses\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), user.role === \"instructor\" && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: fetchCourses,\n      className: \"refresh-btn\",\n      children: \"Refresh Student Count\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }, this), isEditable && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Add New Course\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Course Name\",\n        value: newCourse.name,\n        onChange: e => setNewCourse({\n          ...newCourse,\n          name: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Duration (weeks)\",\n        value: newCourse.duration,\n        onChange: e => setNewCourse({\n          ...newCourse,\n          duration: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCreateCourse,\n        children: \"Add Course\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }, this), courses.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"courses-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Course Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this), user.role === \"instructor\" && /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Students\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 46\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Published On\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this), user.role === \"admin\" && /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Instructor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 41\n          }, this), isEditable && /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: courses.map(course => {\n          var _instructors$find;\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"course-info\",\n              children: editingCourse && editingCourse.id === course.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingCourse.name,\n                  onChange: e => setEditingCourse({\n                    ...editingCourse,\n                    name: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: editingCourse.duration,\n                  onChange: e => setEditingCourse({\n                    ...editingCourse,\n                    duration: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 23\n                }, this), user.role === \"admin\" && /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: editingCourse.instructor_id || \"\",\n                  onChange: e => setEditingCourse({\n                    ...editingCourse,\n                    instructor_id: e.target.value ? parseInt(e.target.value) : null\n                  }),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"No Instructor\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 27\n                  }, this), instructors.map(instructor => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: instructor.id,\n                    children: instructor.username\n                  }, instructor.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 29\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"course-info-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: course.image ? `${BASE_URL}${course.image.startsWith('/') ? '' : '/'}${course.image}` : \"/images/default.jpg\",\n                  alt: course.name,\n                  className: \"my-course-image\",\n                  onError: e => {\n                    console.error(`Failed to load image for ${course.name}: ${e.target.src}`);\n                    e.target.src = \"/images/default.jpg\";\n                    e.target.onerror = () => {\n                      e.target.src = \"https://via.placeholder.com/150?text=No+Image\";\n                    };\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: course.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this), user.role === \"instructor\" && /*#__PURE__*/_jsxDEV(\"td\", {\n              children: course.students ? course.students.length : 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: course.created_at ? new Date(course.created_at).toLocaleDateString() : \"N/A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this), user.role === \"admin\" && /*#__PURE__*/_jsxDEV(\"td\", {\n              children: ((_instructors$find = instructors.find(i => i.id === course.instructor_id)) === null || _instructors$find === void 0 ? void 0 : _instructors$find.username) || \"None\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 19\n            }, this), isEditable && /*#__PURE__*/_jsxDEV(\"td\", {\n              children: editingCourse && editingCourse.id === course.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleUpdateCourse(editingCourse),\n                  children: \"Save\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setEditingCourse(null),\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setEditingCourse({\n                    ...course\n                  }),\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteCourse(course.id),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 25\n                }, this), user.role === \"instructor\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    id: `file-upload-${course.id}`,\n                    style: {\n                      display: \"none\"\n                    },\n                    onChange: e => setSelectedFile(e.target.files[0])\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleFileUpload(course.id),\n                    onMouseEnter: () => document.getElementById(`file-upload-${course.id}`).click(),\n                    children: \"Upload\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 19\n            }, this)]\n          }, course.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No courses available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 5\n  }, this);\n};\n_s(MyCourses, \"ggjcTDLc5QxGELvrUM4cYq01FQA=\", false, function () {\n  return [useNavigate];\n});\n_c = MyCourses;\nexport default MyCourses;\nvar _c;\n$RefreshReg$(_c, \"MyCourses\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","MyCourses","_s","courses","setCourses","instructors","setInstructors","loading","setLoading","error","setError","newCourse","setNewCourse","name","duration","editingCourse","setEditingCourse","selectedFile","setSelectedFile","navigate","user","JSON","parse","localStorage","getItem","BASE_URL","fetchCourses","token","window","console","endpoint","role","fetch","headers","then","res","ok","Error","status","json","data","Array","isArray","catch","err","message","log","setItem","stringify","handleCreateCourse","method","body","id","length","handleUpdateCourse","course","updatedCourse","map","c","handleDeleteCourse","courseId","filter","handleFileUpload","alert","formData","FormData","append","children","fileName","_jsxFileName","lineNumber","columnNumber","isEditable","className","onClick","type","placeholder","value","onChange","e","target","_instructors$find","instructor_id","parseInt","instructor","username","src","image","startsWith","alt","onError","onerror","students","created_at","Date","toLocaleDateString","find","i","style","display","files","onMouseEnter","document","getElementById","click","_c","$RefreshReg$"],"sources":["/home/wayne/Development/phase5/group12-frontend-/src/Components/MyCourses/MyCourses.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./MyCourses.css\";\n\nconst MyCourses = () => {\n  const [courses, setCourses] = useState([]);\n  const [instructors, setInstructors] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [newCourse, setNewCourse] = useState({ name: \"\", duration: \"\" });\n  const [editingCourse, setEditingCourse] = useState(null);\n  const [selectedFile, setSelectedFile] = useState(null); \n  const navigate = useNavigate();\n  const user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n  const BASE_URL = \"https://group12-backend-cv2o.onrender.com\";\n\n  const fetchCourses = () => {\n    const token = typeof window !== \"undefined\" && window.localStorage ? localStorage.getItem(\"token\") : null;\n    if (!token) {\n      console.error(\"No token found. Please log in again.\");\n      setError(\"No token found. Please log in again.\");\n      setLoading(false);\n      return;\n    }\n\n    const endpoint =\n      user.role === \"admin\"\n        ? `${BASE_URL}/api/admin/courses`\n        : user.role === \"instructor\"\n        ? `${BASE_URL}/api/instructors/my-courses`\n        : `${BASE_URL}/api/students/my-courses`;\n\n    fetch(endpoint, {\n      headers: { \"Authorization\": `Bearer ${token}` },\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);\n        return res.json();\n      })\n      .then((data) => {\n        setCourses(Array.isArray(data) ? data : []);\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.error(\"Fetch error:\", err.message);\n        setError(err.message);\n        setLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    if (!user || (user.role !== \"admin\" && user.role !== \"instructor\" && user.role !== \"student\")) {\n      console.log(\"Redirecting to /: User is not admin, instructor, or student\", user);\n      setLoading(false);\n      navigate(\"/\");\n      return;\n    }\n\n    fetchCourses();\n\n    if (user.role === \"admin\") {\n      fetch(`${BASE_URL}/api/admin/instructors`, {\n        headers: { \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}` },\n      })\n        .then((res) => {\n          if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);\n          return res.json();\n        })\n        .then((data) => {\n          console.log(\"Fetched instructors:\", data);\n          setInstructors(Array.isArray(data) ? data : []);\n          if (typeof window !== \"undefined\" && window.localStorage) {\n            localStorage.setItem(\"instructors\", JSON.stringify(data));\n          }\n        })\n        .catch((err) => {\n          console.error(\"Fetch instructors error:\", err.message);\n          setError(err.message);\n        });\n    }\n  }, [navigate, user]);\n\n  const handleCreateCourse = () => {\n    const token = typeof window !== \"undefined\" && window.localStorage ? localStorage.getItem(\"token\") : null;\n    if (!token) return;\n\n    const endpoint =\n      user.role === \"admin\"\n        ? `${BASE_URL}/api/admin/courses`\n        : `${BASE_URL}/api/instructors/courses`;\n    fetch(endpoint, {\n      method: \"POST\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(newCourse),\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);\n        return res.json();\n      })\n      .then((data) => {\n        setCourses([...courses, { id: data.id || courses.length + 1, ...newCourse }]);\n        setNewCourse({ name: \"\", duration: \"\" });\n      })\n      .catch((err) => console.error(\"Error creating course:\", err.message));\n  };\n\n  const handleUpdateCourse = (course) => {\n    const token = typeof window !== \"undefined\" && window.localStorage ? localStorage.getItem(\"token\") : null;\n    if (!token) return;\n\n    const endpoint =\n      user.role === \"admin\"\n        ? `${BASE_URL}/api/admin/courses/${course.id}`\n        : `${BASE_URL}/api/instructors/courses/${course.id}`;\n    fetch(endpoint, {\n      method: \"PUT\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(course),\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);\n        return res.json();\n      })\n      .then((updatedCourse) => {\n        setCourses(courses.map((c) => (c.id === course.id ? updatedCourse : c)));\n        setEditingCourse(null);\n      })\n      .catch((err) => console.error(\"Error updating course:\", err.message));\n  };\n\n  const handleDeleteCourse = (courseId) => {\n    const token = typeof window !== \"undefined\" && window.localStorage ? localStorage.getItem(\"token\") : null;\n    if (!token) return;\n\n    const endpoint =\n      user.role === \"admin\"\n        ? `${BASE_URL}/api/admin/courses/${courseId}`\n        : `${BASE_URL}/api/instructors/courses/${courseId}`;\n    fetch(endpoint, {\n      method: \"DELETE\",\n      headers: { \"Authorization\": `Bearer ${token}` },\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);\n        return res.json();\n      })\n      .then(() => {\n        setCourses(courses.filter((c) => c.id !== courseId));\n      })\n      .catch((err) => console.error(\"Error deleting course:\", err.message));\n  };\n\n  const handleFileUpload = (courseId) => {\n    if (!selectedFile) {\n      alert(\"Please select a file to upload.\");\n      return;\n    }\n\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      console.error(\"No token found. Please log in again.\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"file\", selectedFile);\n    formData.append(\"courseId\", courseId);\n\n    fetch(`${BASE_URL}/api/instructors/upload-course-material`, {\n      method: \"POST\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`,\n      },\n      body: formData,\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);\n        return res.json();\n      })\n      .then((data) => {\n        alert(\"File uploaded successfully!\");\n        setSelectedFile(null); \n      })\n      .catch((err) => console.error(\"Error uploading file:\", err.message));\n  };\n\n  if (loading) return <div>Loading courses...</div>;\n  if (error) {\n    console.error(\"Error state:\", error);\n    return <div>Error: {error}</div>;\n  }\n\n  const isEditable = user.role === \"admin\" || user.role === \"instructor\";\n\n  return (\n    <div className=\"my-courses-container\">\n      <h2>\n        {user.role === \"admin\"\n          ? \"All Courses\"\n          : user.role === \"instructor\"\n          ? \"My Courses (Teaching)\"\n          : \"My Enrolled Courses\"}\n      </h2>\n      {user.role === \"instructor\" && (\n        <button onClick={fetchCourses} className=\"refresh-btn\">\n          Refresh Student Count\n        </button>\n      )}\n      {isEditable && (\n        <div className=\"course-form\">\n          <h4>Add New Course</h4>\n          <input\n            type=\"text\"\n            placeholder=\"Course Name\"\n            value={newCourse.name}\n            onChange={(e) => setNewCourse({ ...newCourse, name: e.target.value })}\n          />\n          <input\n            type=\"number\"\n            placeholder=\"Duration (weeks)\"\n            value={newCourse.duration}\n            onChange={(e) => setNewCourse({ ...newCourse, duration: e.target.value })}\n          />\n          <button onClick={handleCreateCourse}>Add Course</button>\n        </div>\n      )}\n\n      {courses.length > 0 ? (\n        <table className=\"courses-table\">\n          <thead>\n            <tr>\n              <th>Course Name</th>\n              {user.role === \"instructor\" && <th>Students</th>}\n              <th>Published On</th>\n              {user.role === \"admin\" && <th>Instructor</th>}\n              {isEditable && <th>Actions</th>}\n            </tr>\n          </thead>\n          <tbody>\n            {courses.map((course) => (\n              <tr key={course.id}>\n                <td className=\"course-info\">\n                  {editingCourse && editingCourse.id === course.id ? (\n                    <>\n                      <input\n                        type=\"text\"\n                        value={editingCourse.name}\n                        onChange={(e) =>\n                          setEditingCourse({ ...editingCourse, name: e.target.value })\n                        }\n                      />\n                      <input\n                        type=\"number\"\n                        value={editingCourse.duration}\n                        onChange={(e) =>\n                          setEditingCourse({ ...editingCourse, duration: e.target.value })\n                        }\n                      />\n                      {user.role === \"admin\" && (\n                        <select\n                          value={editingCourse.instructor_id || \"\"}\n                          onChange={(e) =>\n                            setEditingCourse({\n                              ...editingCourse,\n                              instructor_id: e.target.value ? parseInt(e.target.value) : null,\n                            })\n                          }\n                        >\n                          <option value=\"\">No Instructor</option>\n                          {instructors.map((instructor) => (\n                            <option key={instructor.id} value={instructor.id}>\n                              {instructor.username}\n                            </option>\n                          ))}\n                        </select>\n                      )}\n                    </>\n                  ) : (\n                    <div className=\"course-info-wrapper\">\n                      <img\n                        src={\n                          course.image\n                            ? `${BASE_URL}${course.image.startsWith('/') ? '' : '/'}${course.image}`\n                            : \"/images/default.jpg\"\n                        }\n                        alt={course.name}\n                        className=\"my-course-image\"\n                        onError={(e) => {\n                          console.error(`Failed to load image for ${course.name}: ${e.target.src}`);\n                          e.target.src = \"/images/default.jpg\";\n                          e.target.onerror = () => {\n                            e.target.src = \"https://via.placeholder.com/150?text=No+Image\";\n                          };\n                        }}\n                      />\n                      <span>{course.name}</span>\n                    </div>\n                  )}\n                </td>\n                {user.role === \"instructor\" && (\n                  <td>{course.students ? course.students.length : 0}</td>\n                )}\n                <td>\n                  {course.created_at\n                    ? new Date(course.created_at).toLocaleDateString()\n                    : \"N/A\"}\n                </td>\n                {user.role === \"admin\" && (\n                  <td>\n                    {instructors.find((i) => i.id === course.instructor_id)?.username || \"None\"}\n                  </td>\n                )}\n                {isEditable && (\n                  <td>\n                    {editingCourse && editingCourse.id === course.id ? (\n                      <>\n                        <button onClick={() => handleUpdateCourse(editingCourse)}>\n                          Save\n                        </button>\n                        <button onClick={() => setEditingCourse(null)}>Cancel</button>\n                      </>\n                    ) : (\n                      <>\n                        <button onClick={() => setEditingCourse({ ...course })}>\n                          Edit\n                        </button>\n                        <button onClick={() => handleDeleteCourse(course.id)}>\n                          Delete\n                        </button>\n                        {user.role === \"instructor\" && (\n                          <>\n                            <input\n                              type=\"file\"\n                              id={`file-upload-${course.id}`}\n                              style={{ display: \"none\" }}\n                              onChange={(e) => setSelectedFile(e.target.files[0])}\n                            />\n                            <button\n                              onClick={() => handleFileUpload(course.id)}\n                              onMouseEnter={() => document.getElementById(`file-upload-${course.id}`).click()}\n                            >\n                              Upload\n                            </button>\n                          </>\n                        )}\n                      </>\n                    )}\n                  </td>\n                )}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      ) : (\n        <p>No courses available.</p>\n      )}\n    </div>\n  );\n};\n\nexport default MyCourses;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}