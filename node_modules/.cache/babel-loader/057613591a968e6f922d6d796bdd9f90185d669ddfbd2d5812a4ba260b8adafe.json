{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import'./Signup.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Signup=_ref=>{let{setUser}=_ref;const[username,setUsername]=useState(\"\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[role,setRole]=useState(\"student\");// Default to student\nconst navigate=useNavigate();const handleSignup=e=>{e.preventDefault();const userData={username,email,password,is_admin:role===\"admin\",is_instructor:role===\"instructor\",is_student:role===\"student\"};fetch(\"http://localhost:5000/api/auth/signup\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(userData)}).then(res=>res.json()).then(data=>{if(data.token){localStorage.setItem(\"token\",data.token);localStorage.setItem(\"user\",JSON.stringify(data.user));setUser(data.user);navigate(\"/courses\");}else if(data.message===\"Instructor signup pending admin verification\"){alert(\"Instructor signup submitted. Awaiting admin approval.\");navigate(\"/login\");}else{alert(data.message);}}).catch(err=>console.error(\"Signup error:\",err));};return/*#__PURE__*/_jsx(\"div\",{className:\"signup-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"signup-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSignup,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:username,onChange:e=>setUsername(e.target.value),required:true,className:\"input-field\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true,className:\"input-field\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true,className:\"input-field\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select Role:\"}),/*#__PURE__*/_jsxs(\"select\",{value:role,onChange:e=>setRole(e.target.value),className:\"role-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"student\",children:\"Student\"}),/*#__PURE__*/_jsx(\"option\",{value:\"instructor\",children:\"Instructor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-btn\",children:\"Sign Up\"})]})]})});};export default Signup;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Signup","_ref","setUser","username","setUsername","email","setEmail","password","setPassword","role","setRole","navigate","handleSignup","e","preventDefault","userData","is_admin","is_instructor","is_student","fetch","method","headers","body","JSON","stringify","then","res","json","data","token","localStorage","setItem","user","message","alert","catch","err","console","error","className","children","onSubmit","type","placeholder","value","onChange","target","required"],"sources":["/home/louis-mariara/Documents/phase5/group12-frontend-/src/Components/signup/Signup.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport './Signup.css';\r\n\r\nconst Signup = ({ setUser }) => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [role, setRole] = useState(\"student\"); // Default to student\r\n  const navigate = useNavigate();\r\n\r\n  const handleSignup = (e) => {\r\n    e.preventDefault();\r\n    const userData = {\r\n      username,\r\n      email,\r\n      password,\r\n      is_admin: role === \"admin\",\r\n      is_instructor: role === \"instructor\",\r\n      is_student: role === \"student\"\r\n    };\r\n\r\n    fetch(\"http://localhost:5000/api/auth/signup\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(userData)\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.token) {\r\n          localStorage.setItem(\"token\", data.token);\r\n          localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n          setUser(data.user);\r\n          navigate(\"/courses\");\r\n        } else if (data.message === \"Instructor signup pending admin verification\") {\r\n          alert(\"Instructor signup submitted. Awaiting admin approval.\");\r\n          navigate(\"/login\");\r\n        } else {\r\n          alert(data.message);\r\n        }\r\n      })\r\n      .catch(err => console.error(\"Signup error:\", err));\r\n  };\r\n\r\n  return (\r\n    <div className=\"signup-container\">\r\n      <div className=\"signup-box\">\r\n        <h2>Sign Up</h2>\r\n        <form onSubmit={handleSignup}>\r\n          <div className=\"input-group\">\r\n            <label>Username</label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              required\r\n              className=\"input-field\"\r\n            />\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <label>Email</label>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              required\r\n              className=\"input-field\"\r\n            />\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <label>Password</label>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              required\r\n              className=\"input-field\"\r\n            />\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <label>Select Role:</label>\r\n            <select\r\n              value={role}\r\n              onChange={(e) => setRole(e.target.value)}\r\n              className=\"role-select\"\r\n            >\r\n              <option value=\"student\">Student</option>\r\n              <option value=\"instructor\">Instructor</option>\r\n              <option value=\"admin\">Admin</option>\r\n            </select>\r\n          </div>\r\n          <button type=\"submit\" className=\"submit-btn\">Sign Up</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Signup;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}