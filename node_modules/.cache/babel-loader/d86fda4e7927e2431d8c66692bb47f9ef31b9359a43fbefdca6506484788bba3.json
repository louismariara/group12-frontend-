{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import\"./CourseDetails.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CourseDetails=()=>{var _course$instructor;const{courseId}=useParams();const[course,setCourse]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const token=localStorage.getItem(\"token\");if(!token){setError(\"Please log in to view course details\");setLoading(false);return;}fetch(`http://localhost:5000/api/courses/${courseId}`,{headers:{\"Authorization\":`Bearer ${token}`}}).then(res=>{if(!res.ok){return res.json().then(err=>{throw new Error(err.error||`HTTP error! Status: ${res.status}`);});}return res.json();}).then(data=>{setCourse(data);setLoading(false);}).catch(err=>{setError(\"Error fetching course: \"+err.message);setLoading(false);console.error(\"Fetch error:\",err);});},[courseId]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading course details...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{children:error});if(!course)return/*#__PURE__*/_jsx(\"div\",{children:\"No course found\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"course-details\",children:[/*#__PURE__*/_jsx(\"h1\",{children:course.name}),/*#__PURE__*/_jsx(\"img\",{src:course.image||\"/images/default.png\",alt:course.name,className:\"course-image\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Duration: \",course.duration,\" hours\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Instructor: \",((_course$instructor=course.instructor)===null||_course$instructor===void 0?void 0:_course$instructor.name)||\"Not assigned\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Created At: \",new Date(course.created_at).toLocaleDateString()]}),course.modules&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Modules\"}),/*#__PURE__*/_jsx(\"ul\",{children:course.modules.map((module,index)=>/*#__PURE__*/_jsx(\"li\",{children:module.title},index))})]})]});};export default CourseDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","jsx","_jsx","jsxs","_jsxs","CourseDetails","_course$instructor","courseId","course","setCourse","loading","setLoading","error","setError","token","localStorage","getItem","fetch","headers","then","res","ok","json","err","Error","status","data","catch","message","console","children","className","name","src","image","alt","duration","instructor","Date","created_at","toLocaleDateString","modules","map","module","index","title"],"sources":["/home/louis-mariara/Documents/phase5/group12-frontend-/src/Components/CourseDetails/CourseDetails.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport \"./CourseDetails.css\";\r\n\r\nconst CourseDetails = () => {\r\n  const { courseId } = useParams();\r\n  const [course, setCourse] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      setError(\"Please log in to view course details\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    fetch(`http://localhost:5000/api/courses/${courseId}`, {\r\n      headers: { \"Authorization\": `Bearer ${token}` }\r\n    })\r\n      .then(res => {\r\n        if (!res.ok) {\r\n          return res.json().then(err => {\r\n            throw new Error(err.error || `HTTP error! Status: ${res.status}`);\r\n          });\r\n        }\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        setCourse(data);\r\n        setLoading(false);\r\n      })\r\n      .catch(err => {\r\n        setError(\"Error fetching course: \" + err.message);\r\n        setLoading(false);\r\n        console.error(\"Fetch error:\", err);\r\n      });\r\n  }, [courseId]);\r\n\r\n  if (loading) return <div>Loading course details...</div>;\r\n  if (error) return <div>{error}</div>;\r\n  if (!course) return <div>No course found</div>;\r\n\r\n  return (\r\n    <div className=\"course-details\">\r\n      <h1>{course.name}</h1>\r\n      <img src={course.image || \"/images/default.png\"} alt={course.name} className=\"course-image\" />\r\n      <p>Duration: {course.duration} hours</p>\r\n      <p>Instructor: {course.instructor?.name || \"Not assigned\"}</p>\r\n      <p>Created At: {new Date(course.created_at).toLocaleDateString()}</p>\r\n      {course.modules && (\r\n        <div>\r\n          <h3>Modules</h3>\r\n          <ul>\r\n            {course.modules.map((module, index) => (\r\n              <li key={index}>{module.title}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CourseDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}