{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import'./Grades.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Grades=()=>{const[grades,setGrades]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const user=JSON.parse(localStorage.getItem(\"user\"));useEffect(()=>{if(!user||user.role!==\"student\"){setError(\"You must be a student to view this page.\");setLoading(false);return;}const token=localStorage.getItem(\"token\");fetch(\"http://localhost:5000/api/students/my-grades\",{headers:{\"Authorization\":`Bearer ${token}`}}).then(res=>{if(!res.ok)throw new Error(`HTTP error! Status: ${res.status}`);return res.json();}).then(data=>{setGrades(Array.isArray(data)?data:[]);setLoading(false);}).catch(err=>{setError(\"Error fetching grades: \"+err.message);setLoading(false);console.error(\"Fetch error:\",err);});},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading grades...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"grades-page\",children:error});return/*#__PURE__*/_jsx(\"div\",{className:\"grades-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grades-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"grades-title\",children:\"Your Grades\"}),grades.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"grades-list\",children:grades.map((item,index)=>{var _item$course;return/*#__PURE__*/_jsxs(\"li\",{className:\"grade-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"course-name\",children:((_item$course=item.course)===null||_item$course===void 0?void 0:_item$course.name)||\"Unknown Course\"}),/*#__PURE__*/_jsx(\"span\",{className:\"grade-value\",children:item.grade})]},index);})}):/*#__PURE__*/_jsx(\"p\",{children:\"No grades available.\"})]})});};export default Grades;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Grades","grades","setGrades","loading","setLoading","error","setError","user","JSON","parse","localStorage","getItem","role","token","fetch","headers","then","res","ok","Error","status","json","data","Array","isArray","catch","err","message","console","children","className","length","map","item","index","_item$course","course","name","grade"],"sources":["/home/louis-mariara/Documents/phase5/group12-frontend-/src/Components/Grades/Grades.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport './Grades.css';\r\n\r\nconst Grades = () => {\r\n  const [grades, setGrades] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n  useEffect(() => {\r\n    if (!user || user.role !== \"student\") {\r\n      setError(\"You must be a student to view this page.\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const token = localStorage.getItem(\"token\");\r\n    fetch(\"http://localhost:5000/api/students/my-grades\", {\r\n      headers: { \"Authorization\": `Bearer ${token}` }\r\n    })\r\n      .then(res => {\r\n        if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        setGrades(Array.isArray(data) ? data : []);\r\n        setLoading(false);\r\n      })\r\n      .catch(err => {\r\n        setError(\"Error fetching grades: \" + err.message);\r\n        setLoading(false);\r\n        console.error(\"Fetch error:\", err);\r\n      });\r\n  }, []);\r\n\r\n  if (loading) return <div>Loading grades...</div>;\r\n  if (error) return <div className=\"grades-page\">{error}</div>;\r\n\r\n  return (\r\n    <div className=\"grades-page\">\r\n      <div className=\"grades-container\">\r\n        <h2 className=\"grades-title\">Your Grades</h2>\r\n        {grades.length > 0 ? (\r\n          <ul className=\"grades-list\">\r\n            {grades.map((item, index) => (\r\n              <li key={index} className=\"grade-item\">\r\n                <span className=\"course-name\">{item.course?.name || \"Unknown Course\"}</span>\r\n                <span className=\"grade-value\">{item.grade}</span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        ) : (\r\n          <p>No grades available.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Grades;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}